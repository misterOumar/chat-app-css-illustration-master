<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- displays site properly based on user's device -->

    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="./images/favicon-32x32.png"
    />

    <link rel="stylesheet" href="style.css" />

    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons+Sharp"
      rel="stylesheet"
    />

    <title>Frontend Mentor | MisterOumar</title>

    <!-- Feel free to remove these styles or customise in your own stylesheet 👍 -->
    <style>
   
    </style>
  </head>
  <body>
    <div class="bounce">
      <div class="bounce-1"></div>
      <div class="bounce-2"></div>
    </div>
    <main>
      <div class="container">
        <div class="phone">
          <div class="screen_message">
            <div class="head">
              <span class="time"></span>
              <div class="toolsbar">
                <span class="material-icons-sharp"> alarm </span>
                <span class="material-icons-sharp"> wifi </span>
                <span class="material-icons-sharp"> battery_6_bar </span>
              </div>

              <div class="content">
                <span class="material-icons-sharp"> chevron_left </span>
                <div class="user_profile_info">
                  <div class="avatar">
                    <img src="./images/avatar.jpg" alt="user avatar" />
                  </div>
                  <div class="info">
                    <span class="name">Samuel Green</span>
                    <span class="available muted">Available to Walk</span>
                  </div>
                </div>
                <span class="material-icons-sharp more"> more_vert </span>
              </div>
            </div>
            <div class="messages">
              <div class="allsms">
                <div class="message left">
                  <p>That sounds great. I’d be happy with that.</p>
                </div>
                <div class="message left">
                  <p>Could you send over some pictures of your dog, please?</p>
                </div>
                <div class="received">
                  <div class="message img_message">
                    <div class="img_box">
                      <img src="./images/dog-image-1.jpg" alt="dog" />
                    </div>
                    <div class="img_box">
                      <img src="./images/dog-image-2.jpg" alt="dog" />
                    </div>
                    <div class="img_box">
                      <img src="./images/dog-image-3.jpg" alt="dog" />
                    </div>
                  </div>
                </div>
                <div class="received">
                  <div class="message">
                    <p>Here are a few pictures. She’s a happy girl!</p>
                  </div>
                </div>
                <div class="received">
                  <div class="message">
                    <p>Can you make it?</p>
                  </div>
                </div>
                <div class="message left">
                  <p>
                    She looks so happy! The time we discussed works. How long
                    shall I take her out for?
                  </p>
                </div>
                <div class="message left walk">
                  <span class="material-icons-sharp">
                    radio_button_unchecked
                  </span>
                  <div>
                    <span class="time"> 30 minute walk </span>
                    <span class="cost"> $29</span>
                  </div>
                </div>
                <div class="message left walk">
                  <span class="material-icons-sharp">
                    radio_button_unchecked
                  </span>
                  <div>
                    <span class="time"> 1 hour walk </span>
                    <span class="cost"> $49</span>
                  </div>
                </div>
              </div>
              <form id="form">
                <div class="text_field">
                  <input
                    type="text"
                    class="sms"
                    placeholder="Type a message…"
                  />
                  <button type="submit" class="send">
                    <span class="material-icons-sharp"> chevron_right </span>
                  </button>
                </div>
              </form>
            </div>
          </div>
        </div>
        <div class="description">
          <h1>Simple booking</h1>
          <p>
            Stay in touch with our dog walkers through the chat interface. This
            makes it easy to discuss arrangements and make bookings. Once the
            walk has been completed you can rate your walker and book again all
            through the chat.
          </p>
        </div>
      </div>
    </main>
    <footer>
      <div class="attribution">
        Challenge by
        <a href="https://www.frontendmentor.io?ref=challenge" target="_blank"
          >Frontend Mentor</a
        >. Coded by <a href="https://github.com/misterOumar">MisterOumar</a>.
      </div>
    </footer>

    <script>
      const form = document.querySelector("#form");
      let input = document.querySelector("input");
      input.addEventListener("input", () => {
        document.querySelector(".text_field").classList.remove("error");
      });
      form.addEventListener("submit", function (e) {
        if (input.value === "" || input.value == null) {
          document.querySelector(".text_field").classList.add("error");
          e.preventDefault();
        } else {
          message = input.value;

          const newmessage = document.createElement("div");
          newmessage.classList.add("received");
          newmessage.classList.add("new");
          const newmessageContent = `
                  <div class="message">
                    <p>${message}</p>
                  </div>
        `;
          newmessage.innerHTML = newmessageContent;
          let allsms = document.querySelector(".allsms");
          allsms.appendChild(newmessage);
          input.value = "";
          allsms.scrollTop = allsms.scrollHeight;
          e.preventDefault();
        }
      });

      function getCurrentTime() {
        var date = new Date();
        var hours = date.getHours();
        var minutes = date.getMinutes();
        var period = hours >= 12 ? "PM" : "AM";

        // Conversion de l'heure de 24 heures à 12 heures
        if (hours > 12) {
          hours -= 12;
        } else if (hours === 0) {
          hours = 12;
        }

        // Ajout d'un zéro devant les minutes si nécessaire
        if (minutes < 10) {
          minutes = "0" + minutes;
        }

        var timeString = hours + ":" + minutes + " " + period;
        return timeString;
      }

      function updateClock() {
        // Récupération de l'élément span dans le HTML
        var spanElement = document.querySelector(".time");

        // Mise à jour du contenu du span avec l'heure actuelle
        spanElement.textContent = getCurrentTime();
      }

      // Mise à jour initiale de l'heure
      updateClock();

      // Actualisation de l'heure toutes les minutes
      setInterval(updateClock, 60000); // 60000 ms = 1 minute
    </script>
  </body>
</html>
